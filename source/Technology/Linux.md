# Linux笔记

## Linux的历史

待补

## Linux与硬件和磁盘

### Linux与硬件的搭配

在Linux系统中，每个设备都被当成一个文件来对待：举例来说，SATA接口的硬盘的文件名称即为/dev/sd[a-d]，其中， 括号内的字母为a-d当中的任意一个，亦即有/dev/sda, /dev/sdb, /dev/sdc, 及 /dev/sdd这四个文件的意思。

| 设备                | 设备在Linux内的文件名                                        |
| :------------------ | :----------------------------------------------------------- |
| SCSI/SATA/USB硬盘机 | /dev/sd[a-p]                                                 |
| USB闪存盘           | /dev/sd[a-p] （与SATA相同）                                  |
| VirtI/O界面         | /dev/vd[a-p] （用于虚拟机内）                                |
| 软盘机              | /dev/fd[0-7]                                                 |
| 打印机              | /dev/lp[0-2] （25针打印机） /dev/usb/lp[0-15] （USB 接口）   |
| 鼠标                | /dev/input/mouse[0-15] （通用） /dev/psaux （PS/2界面） /dev/mouse （当前鼠标） |
| CDROM/DVDROM        | /dev/scd[0-1] （通用） /dev/sr[0-1] （通用，CentOS 较常见） /dev/cdrom （当前 CDROM） |
| 磁带机              | /dev/ht0 （IDE 界面） /dev/st0 （SATA/SCSI界面） /dev/tape （当前磁带） |
| IDE硬盘机           | /dev/hd[a-d] （旧式系统才有）                                |

### 磁盘分区

个人计算机常见的磁盘接口有两种， 分别是SATA与SAS接口，目前（2015）的主流是SATA接口。

实体机器大概使用的都是 /dev/sd[a-] 的磁盘文件名，至于虚拟机环境下面，为了加速，可能就会使用 /dev/vd[a-p] 这种设备文件名。（要了解为啥会有两种不同磁盘文件名的原因）

书上对这个分区的技术讲得好细，我现在就浅浅扫一遍了，

关键词：**MBR 主要分区、延伸分区与逻辑分区**

- 磁盘的第一个扇区主要记录了两个重要的信息，分别是： （1）主要开机记录区（Master Boot Record, MBR）：可以安装开机管理程序的地方，有446 Bytes （1）分区表（partition table）：记录整颗硬盘分区的状态，有64 Bytes；

#### 开机流程中的 BIOS 与 UEFI 开机检测程序

既然操作系统也是软件，那么计算机又是如何认识这个操作系统软件并且执行他的？这就得要牵涉到计算机的开机程序了

目前的主机系统在载入硬件驱动方面的程序，主要有早期的 BIOS 与新的 UEFI 两种机制：

- 开机的流程由：BIOS—>MBR—>—>boot loader—>核心文件；

现在先不细看这两个东西，只知道UEFI比BIOS高级

#### Linux安装模式下，磁盘分区的选择（极重要）

##### 目录树结构 （directory tree）

我们前面有谈过Linux内的所有数据都是以文件的形态来呈现的，所以啰，整个Linux系统最重要的地方就是在于目录树架构。 所谓的目录树架构（directory tree）就是以根目录为主，然后向下呈现分支状的目录结构的一种文件架构。 所以，整个目录树架构最重要的就是那个根目录（root directory），这个根目录的表示方法为一条斜线“**/**”， 所有的文件都与目录树有关。

![img](Linux.assets/96520b131b6233e693db88da3549ee9d.gif)

##### 文件系统与目录树的关系（挂载）

所谓的“挂载”就是利用一个目录当成进入点，将磁盘分区的数据放置在该目录下； 也就是说，进入该目录就可以读取该分区的意思。这个动作我们称为“挂载”，那个进入点的目录我们称为“挂载点”。

由于整个Linux系统最重要的是根目录，因此根目录一定需要挂载到某个分区的。 至于其他的目录则可依使用者自己的需求来给予挂载到不同的分区。

![目录树与分区之间的相关性](Linux.assets/faa0fee4526ada1c8568b0eefa9a7e6d.png)

上图中假设我的硬盘分为两个分区，partition 1是挂载到根目录，至于partition 2则是挂载到/home这个目录。

这也就是说，当我的数据放置在/home内的各次目录时，数据是放置到partition 2的，如果不是放在/home下面的目录， 那么数据就会被放置到partition 1了

- 新手的简单分区，建议只要有/及swap两个分区即可